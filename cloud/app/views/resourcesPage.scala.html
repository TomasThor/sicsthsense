@(resources : List[Resource], myForm : Form[Resource], message: String="")
@import helper._

@tbField(field: Field, label: String, className: String="", typeName: String ="text", readOnly: Boolean = false, placeHolder: String = "", required: Boolean = false, value: String=null) = {
	@if(field != null) {
	@if(label != null && label != "") {
		<!--
  ~ Copyright (c) 2013, Swedish Institute of Computer Science
  ~ All rights reserved.
  ~ Redistribution and use in source and binary forms, with or without
  ~ modification, are permitted provided that the following conditions are met:
  ~     * Redistributions of source code must retain the above copyright
  ~       notice, this list of conditions and the following disclaimer.
  ~     * Redistributions in binary form must reproduce the above copyright
  ~       notice, this list of conditions and the following disclaimer in the
  ~       documentation and/or other materials provided with the distribution.
  ~     * Neither the name of The Swedish Institute of Computer Science nor the
  ~       names of its contributors may be used to endorse or promote products
  ~       derived from this software without specific prior written permission.
  ~
  ~ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  ~ ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  ~ WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  ~ DISCLAIMED. IN NO EVENT SHALL THE SWEDISH INSTITUTE OF COMPUTER SCIENCE BE LIABLE
  ~ FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  ~ (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  ~ LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ~ ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  ~ (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  ~ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  -->

<div class="control-group">
			<label class="control-label" for="@field.id">@label</label>
			<div class="controls">
				<input class="@className" type="@typeName" id="@field.id" name="@field.name" value=@if(value!=null){"@value"}else{"@field.value"} placeholder="@placeHolder" @if(readOnly){ readonly }  @if(required){ required } />
			</div>
		</div>
		} else {
		<input class="@className" type="@typeName" id="@field.id" name="@field.name" value=@if(value!=null){"@value"}else{"@field.value"} placeholder="@placeHolder" @if(readOnly){ readonly } @if(required){ required } />
		}
	}
}

@layout("Resources", message, session) {

    <!-- Docs nav
    ================================================== -->
	<div class="row-fluid">
  	<div class="span2 bs-docs-sidebar" >
			@** should pass theses parameters(resources, extStreams) **@
			@manage.navigationMenu()
    </div>

    <div id="mainPane" class="span9">
		<!--Body content-->

	<!-- Small add resource form -->
<div class="row-fluid">
	@helper.form(action = routes.CtrlResource.addSimple(), 'class -> "controls-row") {
	<fieldset>
		<legend>Add a new resource</legend>
		@tbField(myForm("id"), "", "", "hidden")
		@* @tbField(myForm("label"), "", "span5", "text", false, "Enter resource label", true) *@
		<input class="span5" type="text" id="label" name="label" value="" placeholder="Enter resource label" onkeypress="return alphanum(event)"  required  />
		@tbField(myForm("pollingUrl"), "", "span5", "url", false, "Resource URI (optional)")
		<input type="submit" class="span2 btn btn-primary addResourceQuick" value="Add">
	 </fieldset>
  }

	@if(resources.length > 0) {
	<br />
	<div class="row-fluid ">
		<legend>Your resources</legend>
		<div class="row-fluid ">
	 		<div class="controls-row " >
			<fieldset>
				<div id="resourcelist-full">
			@for(resource <- resources) {
				<h4><a href="@routes.CtrlResource.getById(resource.id)">@resource.label&nbsp<i class="icon-wrench"></i></a></h4>
				<div class="row-fluid"><span class="span1">Key</span><input class="span11" type="text" id="@{resource.id}Key" name="ResourceKey" value="@sicsthSenseURL()@{routes.CtrlResource.postByKey(resource.showKey(Secured.getCurrentUser()))}" readonly></div>
				@if(resource.getUrl() != "" && resource.getUrl() != null) {
				<div class="row-fluid"><span class="span1">URI</span><input class="span11" type="url" id="@{resource.id}URL" name="ResourceURL" value="@resource.getUrl()" readonly></div>
				<div class="row-fluid"><span class="span1">Proxy</span><span class="span11">@interactWithResource(resource.id,resource.getUrl(),showHeader=false)</span></div>
				}
				<hr class="dashed" />
			}
				</div>
			<fieldset>
		</div></div>
	</div>
	<br />
	}
</div></div></div>
}
